## 进程与线程

- [进程线程协程的区别](https://mp.weixin.qq.com/s/vW5n_JWa3I-Qopbx4TmIgQ)

### 进程
每一个进程有一个地址空间和一个控制线程

##### 进程层次结构
unix系统是以init为root的一课层次树,windows进程之间是平等的 

##### 进程的状态
1. 运行态(正在占用CPU)
2. 就绪态(可运行,没CPU资源,等待调度)
3. 阻塞态(比如磁盘I/O)

##### 进程调度
操作系统的底层是调度程序,在它上面有许多进程,所有关于中断处理,启动进程,停止进程的具体细节都隐藏在调度程序中
       
##### 进程的实现
通过一个进程表来维护进程的信息(寄存器,程序计数器,优先级,进程ID,堆栈指针等)

### 线程

##### 种类
1. 用户级线程(由运行时系统管理,维护一个线程表) {go的协程} 线程切换快
2. 内核级线程

##### 弹出式线程
为每一个到达的请求创建一个线程去处理

### 区别
1. 线程共享同一个地址空间和所有可用数据的能力
2. 线程比进程更轻量,创建和销毁更快,  

### 竞态
当多个线程同时操作一个变量时,无法确定谁获得操作权限,出现竞争
一般解决就是加锁,轮循(忙等待),可以通过生产-消费者模型,使用睡眠和唤醒模式,解决忙等待,通过TSL(硬件锁)+信号量来解决原子性,类似go的通道
 