## 所有权

### 所有权

变量的所有权总是遵循相同的模式：将值赋给另一个变量时移动它。当持有堆中数据值的变量离开作用域时，其值将通过 drop 被清理掉，除非数据被移动为另一个变量所有。


1. 变量与数据交互的方式（一）：移动

  Rust 永远也不会自动创建数据的 “深拷贝”
  
```rust
let s1 = String::from("hello");
let s2 = s1;
// 此时s1就无效了，防止函数结束`}`时候内存释放(drop)，造成二次释放，只释放一次,
```

2. 变量与数据交互的方式（二）：克隆

```rust
let s1 = String::from("hello");
let s2 = s1.clone();
```

### 引用

- 在任意给定时间，要么 只能有一个可变引用，要么 只能有多个不可变引用。
- 引用必须总是有效的。